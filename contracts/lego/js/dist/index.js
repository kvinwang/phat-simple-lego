(()=>{"use strict";var __webpack_modules__={730:(e,n)=>{},252:()=>{!function(e){function n(e){var n=0|e.charCodeAt(0);if(55296<=n)if(56320>n)if(56320<=(e=0|e.charCodeAt(1))&&57343>=e){if(65535<(n=(n<<10)+e-56613888|0))return o(240|n>>>18,128|n>>>12&63,128|n>>>6&63,128|63&n)}else n=65533;else 57343>=n&&(n=65533);return 2047>=n?o(192|n>>>6,128|63&n):o(224|n>>>12,128|n>>>6&63,128|63&n)}function t(){}function r(e,t){var r=void 0===e?"":(""+e).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,n),o=0|r.length,i=0,c=0,u=0|t.length,a=0|e.length;u<o&&(o=u);e:for(;i<o;i=i+1|0){switch((e=0|r.charCodeAt(i))>>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=c+1|0;case 8:case 9:case 10:case 11:break;case 12:case 13:if((i+1|0)<u){c=c+1|0;break}case 14:if((i+2|0)<u){c=c+1|0;break}case 15:if((i+3|0)<u){c=c+1|0;break}default:break e}t[i]=e}return{written:i,read:a<c?a:c}}var o=String.fromCharCode,i=e.Uint8Array||Array,c=t.prototype,u=e.TextEncoder;if(c.encode=function(e){for(var t=0|(e=void 0===e?"":(""+e).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,n)).length,r=new i(t),o=0;o<t;o=o+1|0)r[o]=0|e.charCodeAt(o);return r},c.encodeInto=r,u){if(!(e=u.prototype).encodeInto){var a=new u;e.encodeInto=function(e,n){var t=0|e.length,o=0|n.length;if(t<(3+(o>>1)|0)){var i=a.encode(e);if((0|i.length)<o)return n.set(i),{read:t,written:0|i.length}}return r(e,n)}}}else e.TextEncoder=t}(globalThis),globalThis.TextDecoder=class{constructor(e="utf-8"){if("utf-8"!==e)throw new TypeError("Only utf-8 encoding is supported")}decode(e){let n="",t=0;for(;t<e.length;){let r=e[t++];r>=192&&(r=r<224?(31&r)<<6|63&e[t++]:r<240?(15&r)<<12|(63&e[t++])<<6|63&e[t++]:(7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++]),n+=String.fromCharCode(r)}return n}}},61:()=>{function e(e,n){if(!e)throw new Error("function"==typeof n?n():n)}function n(e,n){return e.sizeHint=n,e}Symbol("empty"),Error,n((()=>{}),(()=>0)),n(((e,n)=>{n.u8[n.idx++]=e?1:0}),(()=>1));var t={i8:1,u8:1,i16:2,u16:2,i32:4,u32:4,i64:8,u64:8,i128:16,u128:16,i256:32,u256:32,i512:64,u512:64},r=e=>()=>t[e],o=e=>8===t[e],i=e=>t[e]<=4,c=e=>"i"===e[0];function u(n,t){const r=n<0,o=c(t);return e(!r||o,(()=>`Negative num (${n}) is passed to unsigned ("${t}") encoder`)),r}function a(n,r,o){u(n,r),e(Number.isSafeInteger(n),(()=>`Unsafe integer (${n}) is passed into encoder`));const{view:i,idx:c}=o;switch(r){case"i8":i.setInt8(c,n);break;case"u8":i.setUint8(c,n);break;case"i16":i.setInt16(c,n,!0);break;case"u16":i.setUint16(c,n,!0);break;case"i32":i.setInt32(c,n,!0);break;case"u32":i.setUint32(c,n,!0)}o.idx+=t[r]}function s(e,n){const{view:r,idx:o}=e;let i;switch(n){case"i8":i=r.getInt8(o);break;case"u8":i=r.getUint8(o);break;case"i16":i=r.getInt16(o,!0);break;case"u16":i=r.getUint16(o,!0);break;case"i32":i=r.getInt32(o,!0);break;case"u32":i=r.getUint32(o,!0)}return e.idx+=t[n],i}function d(e,n,t,r){let o=0;for(;e>0&&o<r;)n[t+o++]=Number(0xffn&e),e>>=8n;if(e>0)throw new Error(`Number ${e} is out of bytes limit (${r})`);return o}function l(e,n,r){if(i(n))return a(Number(e),n,r);if(o(n))return function(e,n,r){u(e,n);const{view:o,idx:i}=r;switch(n){case"u64":o.setBigUint64(i,e,!0);break;case"i64":o.setBigInt64(i,e,!0)}r.idx+=t[n]}(e,n,r);const c=u(e,n),s=t[n];c&&(e=BigInt.asUintN(8*s,e)),d(e,r.u8,r.idx,s),r.idx+=s}function f(e,n){if(i(n))return BigInt(s(e,n));if(o(n))return function(e,n){const{view:r,idx:o}=e;let i;switch(n){case"u64":i=r.getBigUint64(o,!0);break;case"i64":i=r.getBigInt64(o,!0)}return e.idx+=t[n],i}(e,n);const r=c(n),u=t[n],a=function(e,n,t){let r=t&&(128&e.u8[e.idx+n-1])>>7==1,o=0n;for(let t=0,r=0n;t<n;t++,r+=8n)o+=BigInt(e.u8[e.idx+t])<<r;return r&&(o=BigInt.asIntN(8*n,o)),o}(e,u,r);return e.idx+=u,a}function _(e){return n(((n,t)=>a(n,e,t)),r(e))}function g(e){return n=>s(n,e)}function p(e){return n(((n,t)=>l(n,e,t)),r(e))}function h(e){return n=>f(n,e)}_("u8"),g("u8"),_("i8"),g("i8"),_("u16"),g("u16"),_("i16"),g("i16"),_("u32"),g("u32"),_("i32"),g("i32"),p("u64"),h("u64"),p("i64"),h("i64"),p("u128"),h("u128"),p("i128"),h("i128");var b=2**30-1,w=(e,n)=>{if(!(e>=0)||!Number.isInteger(e)&&"bigint"!=typeof e)throw new Error(`Invalid number is passed: ${e}. It should be non-negative integer.`);if(e<=63)return void(n.u8[n.idx++]=Number(e)<<2);if(e<=16383)return void l((BigInt(e)<<2n)+0b01n,"u16",n);if(e<=b)return void l((BigInt(e)<<2n)+0b10n,"u32",n);const t=d(BigInt(e),n.u8,n.idx+1,1/0);n.u8[n.idx]=3+(t-4<<2),n.idx+=1+t};w.sizeHint=function(e){return e<=63?1:e<=16383?2:e<=b?4:1+function(e){let n=0;for(;e>0;)n++,e>>=8n;return n}(BigInt(e))},n(((e,n)=>{w(e.byteLength,n),n.u8.set(e,n.idx),n.idx+=e.byteLength}),(e=>w.sizeHint(e.byteLength)+e.byteLength));var k=new TextEncoder;function E(e){let n=e.length;for(let t=e.length-1;t>=0;t--){const r=e.charCodeAt(t);r>127&&r<=2047?n++:r>2047&&r<=65535&&(n+=2),r>=56320&&r<=57343&&t--}return n}new TextDecoder("utf-8",{fatal:!0}),n(((e,n)=>{const t=E(e);w(t,n);const r=k.encodeInto(e,n.u8.subarray(n.idx));if(r.written!==t)throw new Error(`SCALE internal error: counting of string bytes length is incorrect; string: "${e}"; actual bytes length: ${r.written}; computed: ${t}; please report a bug.`);n.idx+=t}),(e=>{const n=E(e);return n+w.sizeHint(n)})),Error,n(((e,n)=>{n.u8[n.idx++]=e.is("None")?0:e.as("Some")?1:2}),(()=>1))}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}var __webpack_exports__={};(()=>{var _polyfills_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(252),_phala_pink_env__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(730),_scale_codec_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(61);const pink=globalThis.pink;function actionFetch(e,n){let t;t="string"==typeof e.config?{url:e.config}:e.config;let r={};"string"!=typeof n&&"object"!=typeof n||(r="string"==typeof n&&n.length>0?{url:n}:n),r={...t,...r};const{url:o,method:i,headers:c,body:u,returnTextBody:a}=r;if("string"!=typeof o)throw new Error("fetching with invalid url");const s=pink.httpRequest({url:o,method:i,headers:c,body:u,returnTextBody:a});if(!r.allowNon2xx&&(s.statusCode<200||s.statusCode>=300))throw new Error(`http request failed with status code ${s.statusCode}`);return s}function actionCall(e,n){const t=e.config;if(!(n instanceof Uint8Array))throw new Error("call contract input must be a Uint8Array");return pink.invokeContract({...t,input:n})}function actionEval(action,input,context){const script=action.config;if("string"!=typeof script)throw new Error("Trying to eval non-string");const scale={encode:scaleCore.WalkerImpl.encode,encodeU128:scaleCore.encodeU128,encodeU64:scaleCore.encodeU64,encodeU32:scaleCore.encodeU32,encodeU16:scaleCore.encodeU16,encodeUint8Vec:scaleCore.encodeUint8Vec,encodeStr:scaleCore.encodeStr,createStructEncoder:scaleCore.createStructEncoder,createEnumEncoder:scaleCore.createEnumEncoder};return eval(script)}function runAction(e,n,t){switch(n.cmd){case"call":return actionCall(n,t);case"eval":return actionEval(n,t,e);case"fetch":return actionFetch(n,t);case"log":return t;default:throw new Error(`unknown action: ${n.cmd}`)}}function pipeline(e,n){let t=n,r={};for(let n=0;n<e.length;n++){const o=e[n];void 0!==o.input&&(t=o.input);const i=o.name??o.cmd;console.log(`running action [${i}], ${o.cmd}(input=${t})`);const c=runAction(r,o,t);t=c,o.name?.length>0&&(r[i]={output:c})}}!function(e){const n=pink.SCALE,t=n.parseTypes("\n#bool\n<Ok:2,Err:3>\n()\n<CouldNotReadInput::1>\n<Ok:0,Err:3>\n#u64\n[7]\n#u8\n<Ok:9,Err:3>\n<None:,Some:6>\n(11)\n[7;32]\n#str\n<Ok:14,Err:3>\n<None:,Some:15>\n{usd:16}\n#u128\n[12]\n<Ok:19,Err:3>\n<Ok:20,Err:12>\n<String:12,Bytes:6,Undefined:>\n(22,24)\n<Foo:31:2,Bar:25>\n@24\n#u32\n{bar:23,baz:24}\n(11)\n<Ok:28,Err:3>\n<Ok:2,Err:29>\n<Other:12,SystemError:30,BadOrigin:>\n<PermisionDenied:,DriverNotFound:,CodeNotFound:,ConditionNotMet:>\n{foo:23,bar:12}\n"),r=n.createTupleEncoder([31,6],t),o=n.createDecoderForTypeId(31,t),i=n.encode([{foo:42n,bar:"Hello"},"0x030405"],r);console.log("encoded:",i);const c=n.decode(i,o);console.log("decoded:",c)}()})()})();